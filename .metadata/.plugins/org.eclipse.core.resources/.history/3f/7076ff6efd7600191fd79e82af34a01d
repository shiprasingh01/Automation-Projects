package tests;

import java.util.List;

import org.openqa.selenium.WebDriver;
import org.testng.Assert;
import org.testng.annotations.BeforeMethod;
import org.testng.annotations.Test;

import base.BaseClass;
import pages.AlertPage;
import pages.DropDownPage;
import pages.DroppablePage;
import pages.SignInPage;
import pages.WidgetTabPage;

public class AfterLogin extends BaseClass {
	WebDriver driver;
	SignInPage signInPage;
	DropDownPage dropDownPage;
	WidgetTabPage widgetTabPage;
	AlertPage alertPage;
	DroppablePage droppablePage;
	

	@BeforeMethod
	public void testPageTitle() {
		driver = super.driver;
		signInPage = new SignInPage(driver);
		dropDownPage = new DropDownPage(driver);
		widgetTabPage = new WidgetTabPage(driver);
		droppablePage = new DroppablePage(driver);
		signInPage.signinWithCredentials("bob_test", "test123");
	}

	//@Test(description = "Check count of widget elements", priority = 2)
	public void checkWidgetcount() {
		int count = widgetTabPage.countOfBoxes();
		Assert.assertTrue(count > 0, "no widget elements found");
		System.out.println("The number of elements in Widget tab is: " + count);
	}

	//@Test(description = "Get country name from dropdown", priority = 3)
	public void checkCountryCount() {

		List<String> countries = dropDownPage.getCountryNames();

		Assert.assertTrue(countries.size() > 0);
		//System.out.println("The total no. of countries in dropdown are: " + countries.size());
		//System.out.println("The Names of Countries are: ");
		//for (String countryName : countries) {
		//	System.out.println(countryName);
		//}
	}

	//@Test(description = "click on Alert tab", priority = 3)
	public void alert() {
		alertPage = new AlertPage(driver);
		alertPage.handleAlert();
	}

	//@AfterMethod
	public void refreshBrowser() {
		String baseUrl = "http://way2automation.com/way2auto_jquery/index.php";
		driver.get(baseUrl);
	}

}
