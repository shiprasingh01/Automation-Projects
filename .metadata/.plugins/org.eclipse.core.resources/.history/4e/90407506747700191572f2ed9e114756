package pages;

import java.util.Set;

import org.openqa.selenium.By;
import org.openqa.selenium.WebDriver;

public class FramesAndWindowsPage {
	WebDriver driver;
	
	By windowsTab = By.xpath("//*[@id='toggleNav']/li[4]/a");
	By newWindowTab = By.xpath("//*[@id='wrapper']/div/div[1]/div[1]/ul/li[2]/a");
	By newWindowLink = By.xpath("//div[@class='farme_window']/p/a");
	
	public FramesAndWindowsPage(WebDriver driver) {
		this.driver = driver;
	}

	public void clickOnWindowsTab() {
		driver.switchTo().frame(1);
		driver.findElement(windowsTab).click();
	}
	
	public int getNewWindowMessage() {
		this.clickOnWindowsTab();
		driver.findElement(newWindowTab).click();
		driver.switchTo().frame(driver.findElements(By.tagName("iframe")).get(1));
		driver.findElement(newWindowLink).click();
		Set<String> windowHandles = driver.getWindowHandles();
		int windowsCount = windowHandles.size();
		return windowsCount;
		
	}
}
