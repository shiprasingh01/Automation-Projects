package pages;

import org.openqa.selenium.By;
import org.openqa.selenium.WebDriver;
import org.openqa.selenium.WebElement;
import org.openqa.selenium.support.ui.ExpectedConditions;
import org.openqa.selenium.support.ui.WebDriverWait;

public class DatePickerPage {
	WebDriver driver;
	By datePickerBox = By.xpath("//*[@id='wrapper']/div[2]/div[2]/div[2]/ul/li[3]/a/figure/img");
	By dateBox = By.xpath("//*[@id='datepicker']");
	By currentMonth = By.xpath("//*[@id='ui-datepicker-div']/div/div/span[1]");
	By currentYear = By.xpath("//*[@id='ui-datepicker-div']/div/div/span[2]");
	By monthChangeButton = By.xpath("//*[@id='ui-datepicker-div']/div/a[2]/span");
	By date = By.xpath("//table[@class='ui-datepicker-calendar']/tbody/tr[4]/td[2]/a");
	By monthYear = By.xpath("//*[@id='ui-datepicker-div']/div/div");

	public DatePickerPage(WebDriver driver) {
		this.driver = driver;
	}

	public void clickDatePicker() {
		driver.switchTo().frame(1);
		driver.findElement(datePickerBox).click();
	}

	public String getDate(String month) {
		this.clickDatePicker();
		driver.switchTo().frame(driver.findElements(By.tagName("iframe")).get(0));
		WebElement dateTextBox = driver.findElement(dateBox);
		dateTextBox.click();
		//String visibleMonth = driver.findElement(currentMonth).getText();
		//String visibleYear = driver.findElement(currentYear).getText();
		String calMonthYear = driver.findElement(monthYear).getText();
		if(calMonthYear.equals(month)) {
			
		}
		/*WebElement toBeSelecteddDate= driver.findElement(date);

		while(dateNotFound){
			if (visibleMonth== month && visibleYear== year) {
				WebDriverWait wait = new WebDriverWait(driver,5);
				wait.until(ExpectedConditions.visibilityOf(toBeSelecteddDate));
				toBeSelecteddDate.click();
				dateNotFound=false;
				break;
				
			} else {
				WebElement nextButton = driver.findElement(monthChangeButton);
				nextButton.click();
		}
		 }

		String selectedDate = dateTextBox.getText();
		return selectedDate;*/
	}
}