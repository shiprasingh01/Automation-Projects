package pages;

import java.util.List;

import org.openqa.selenium.By;
import org.openqa.selenium.WebDriver;
import org.openqa.selenium.WebElement;

public class AutoCompletePage {

	WebDriver driver;
	By autoCompTab = By.xpath("//*[@id='wrapper']/div[2]/div[2]/div[2]/ul/li[2]/a/figure/img");
	By tagBox = By.xpath("//*[@id='tags']");
	By autoList = By.xpath("//ul[@id='ui-id-1']");

	public AutoCompletePage(WebDriver driver) {
		this.driver = driver;
	}

	public void clickOnAutocompletetTab() {
		driver.switchTo().frame(1);
		driver.findElement(autoCompTab).click();
	}

	public String getTextFromAutoBox() {
		this.clickOnAutocompletetTab();
		driver.switchTo().frame(driver.findElements(By.tagName("iframe")).get(0));
		WebElement box = driver.findElement(tagBox);
		box.sendKeys("j");
		WebElement list = driver.findElement(autoList);
		List<WebElement> listOfNames = list.findElements(By.tagName("li"));
		for (WebElement listName : listOfNames) {
			String name = listName.getText();
			if (name.contentEquals("Java")) {
				listName.click();
				break;
			}
		}
		String nameReturned = box.getText();
		return nameReturned;
	}

}
